1. 添加阿里云源
src/gz aliyun_core https://mirrors.aliyun.com/openwrt/releases/21.02.1/packages/aarch64_cortex-a53/packages
src/gz aliyun_base https://mirrors.aliyun.com/openwrt/releases/21.02.1/packages/aarch64_cortex-a53/base/
src/gz aliyun_luci https://mirrors.aliyun.com/openwrt/releases/21.02.1/packages/aarch64_cortex-a53/luci
src/gz aliyun_packages https://mirrors.aliyun.com/openwrt/releases/21.02.1/packages/aarch64_cortex-a53/packages
src/gz aliyun_routing https://mirrors.aliyun.com/openwrt/releases/21.02.1/packages/aarch64_cortex-a53/routing
src/gz aliyun_telephony https://mirrors.aliyun.com/openwrt/releases/21.02.1/packages/aarch64_cortex-a53/telephony

2. 异地组网-远程访问
https://my.zerotier.com/ 注册->创建Network
sudo pacman -S zerotier-one 
sudo systemctl enable zerotier-one --now
sudo zerotier-cli join <ZeroTire Network ID>

3. openclash设置
opkg install luci luci-base luci-compat iptables dnsmasq-full coreutils coreutils-nohup bash curl ca-certificates ipset ip-full iptables-mod-tproxy iptables-mod-extra libcap libcap-bin ruby ruby-yaml kmod-tun ip6tables-mod-nat
OpenWrt 21.02-SNAPSHOT 版本 需下载https://github.com/vernesong/OpenClash/releases/tag/v0.44.34-beta  （更高版本不兼容）

服务->OpenClash ->
插件设置->模式(勾选Fake-IP模式)->DNS设置->本地DNS劫持(使用Dnsmasq转发)->勾选(禁止 Dnsmasq 缓存 DNS)
覆写设置->常规设置->DNS监听端口(7874) 
不勾选ipv6相关设置
网络->DHCP/DNS->DNS转发->127.0.0.1#7874
在配置文件中添加OpenClash规则
配置管理->配置文件列表->编辑 添加一个名为AnyDesk的规则，指定xxxx.anydesk.com的代理规则
在相似的地方添加如下内容
修改部分：
  - name: AnyDesk
    type: select
    proxies:
      - DIRECT
      - Proxies
      - Domestic
      - Hong Kong-01
      - Hong Kong-02
      - 其他节点...
......
rules:
 - DOMAIN-SUFFIX,anydesk.com,AnyDesk
保存配置->应用配置 
在openclash web管理页面配置AnyDesk的代理规则即可

4. ftp服务
/etc/vsftpd.conf内容如下
background=YES
listen=YES
anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=022
check_shell=NO
session_support=NO
anon_mkdir_write_enable=YES
anon_other_write_enable=YES
allow_writeable_chroot=YES
anon_upload_enable=YES
local_root=/tmp/mountd/disk1_part1
userlist_enable=YES
userlist_deny=NO
chroot_list_file=/etc/vsftpd.chroot_list
chroot_local_user=YES
chroot_list_enable=NO
/etc/vsftpd.chroot_list内容如下
root
/etc/vsftpd.user_list内容如下
root
启动vsfpd服务并设置为开机启动
/etc/init.d/vsftpd start
/etc/init.d/vsftpd enable
测试：
从ftp列出文件
curl -u"root:*****" ftp://172.22.95.56/表盘/
从ftp下载文件
wget --user root --password ***** ftp://172.22.95.56/表盘/bz.jpg
向ftp上传文件
curl -u"root:*****" ftp://172.22.95.56/表盘/ -T /tmp/xxx.txt
删除ftp文件
curl -u"root:*****" ftp://172.22.95.56/表盘/ -X "DELE xxx.txt"

5.ADGuardHome
设置->DNS设置->内容如下->并行请求
119.29.29.29
180.76.76.76
223.5.5.5
202.96.134.133
8.8.8.8
DNS设置->缓存大小10485760->覆盖最小TTL值:300->覆盖最大TTL值31536000->乐观缓存
过滤器->DNS拦截列表
AdGuard DNS filter https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt
adblock https://anti-ad.net/easylist.txt
EasyList_China https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt
EasyList_ABP https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt
Easy_Privacy https://easylist-downloads.adblockplus.org/easyprivacy.txt
CHN: AdRules DNS List https://adguardteam.github.io/HostlistsRegistry/assets/filter_29.txt
CHN: anti-AD https://adguardteam.github.io/HostlistsRegistry/assets/filter_21.txt
设置上游：
OpenClash->覆写设置->DNS设置->勾选（*自定义上游 DNS 服务器）->勾选（追加上游DNS）->勾选（追加默认DNS）->(勾选Fake-IP 持久化
)->设置自定义上游 DNS 服务器(并勾选)
NameServer 127.0.0.1  530  UDP 
NameServer 192.168.8.1  530  UDP 
重启OpenClash

6. Python软件 安装pip,you-get
opkg install python3-pip
pip install you-get
pip cache purge  # 清理安装包缓存 建议每次安装pip包后执行

7. 挂载工具
opkg update
https://github.com/Ardentwheel/luci-app-cifs/ 下载luci-app-cifs_1.2-1.2_all.ipk
opkg install luci-app-cifs_1.2-1.2_all.ipk
opkg install kmod-fs-cifs
opkg install kmod-nls-utf8 kmod-nls-base kmod-crypto-hmac kmod-crypto-md5 kmod-crypto-misc cifsmount
挂载
mount -t cifs //cifs-server/share /localfolder -o user=username,password=password
匿名访问
mount -t cifs //cifs-server/share /localfolder -o guest
然后可在服务中找到Mounting NAT drives

8. 下载工具
aria2 
openwrt软件仓库安装aria2，luci-app-aria2，luci-i18n-aria2-zh-cn，ariang，ariang-nginx这几个包
修改如下文件（解决ariang访问403问题）
vim /usr/lib/lua/luci/view/aria2/settings_header.htm 
window.open(protocol + '//' + host + '/' + path);
改成
window.open(protocol + '//' + host + '/' + path + '/index.html');
并重启或reload nginx
/etc/init.d/nginx restart
/etc/init.d/nginx reload
设置aria2：
服务->aria2->RPC选项->RPC 认证方式(选令牌)->进入ariaNg页面->AriaNg设置->RPC->Aria2 RPC密钥->填入后刷新页面
加速BT下载-设置Trackers：
Aria2设置->BitTorrent设置->BT服务器地址(bt-tracker)->从开源项目https://github.com/ngosang/trackerslist获得Trackers地址，注意aria2支持的tracker列表要用逗号隔开，注意转换
关闭做种：
Aria2设置->BitTorrent设置->最小做种时间(seed-time)设置为0
DHT设置：
寻找一个dht文件，替换掉配置中的DHT文件

9. 端口扫描
opkg install nmap
nmap -sT -p- 192.168.8.179
nmap -sU -p- 192.168.8.179

10. 调试安卓设备
opkg install adb

11. 极米投影仪远程操作
以远程连接路由器ssh后，操作投影仪关机为例
```python
#!/usr/bin/env python
# encoding: utf-8
"""
:Author: shmily
:Create Time: 2023/7/3 下午2:18
:@File: xgimi.py
:@Software: PyCharm
:@Site: shmily-qjj.top
"""

# pip install asyncudp asyncio
# Reference from https://github.com/manymuch/Xgimi-4-Home-Assistant.git

import asyncudp
import asyncio
import sys

MY_GIMI_LOCAL_IP="192.168.8.179"
COMMAND_PORT = 16735
ADVANCE_PORT = 16750
ALIVE_PORT = 554
command_dict = {
            "ok": "KEYPRESSES:49",
            "play": "KEYPRESSES:49",
            "pause": "KEYPRESSES:49",
            "power": "KEYPRESSES:116",
            "back": "KEYPRESSES:48",
            "home": "KEYPRESSES:35",
            "menu": "KEYPRESSES:139",
            "right": "KEYPRESSES:37",
            "left": "KEYPRESSES:50",
            "up": "KEYPRESSES:36",
            "down": "KEYPRESSES:38",
            "volumedown": "KEYPRESSES:114",
            "volumeup": "KEYPRESSES:115",
            "poweroff": "KEYPRESSES:30",
            "volumemute": "KEYPRESSES:113",
        }

opr = ""
if len(sys.argv) == 1:
    raise Exception(f"No arg.Available args:{command_dict.keys()}")
else:
    opr = sys.argv[1]
if opr == "":
    raise Exception(f"Arg is null.Available args:{command_dict.keys()}")
opr = opr.lower()

# opr = "poweroff"
msg = command_dict.get(opr)

if msg is None:
    raise NameError("Arg is not supported.")
remote_addr = (MY_GIMI_LOCAL_IP, COMMAND_PORT)


async def send():
    sock = (await asyncudp.create_socket(remote_addr=remote_addr))
    sock.sendto(msg.encode("utf-8"))
asyncio.run(send())
```


12. rsync数据同步工具
opkg install rsync

