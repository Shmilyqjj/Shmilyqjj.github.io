Nvidia+Intel双显卡笔记本安装需要这步：安装前 给内核传参   按e在quiet后加：acpi_osi=! acpi_osi="Windows 2009"  按  F10 启动


/boot/efi分区挂载到原EFI分区，共384G空闲空间，根分区xfs格式192G，home分区xfs格式160G，var分区ext4格式24G，swap给8G（xfs读取效率和断电容错较好但写效率略微低于ext4，ext4写效率高些读效率低于xfs）

安装各种源
https://blog.csdn.net/weixin_43968923/article/details/86349914
 
sudo pacman -S acpi 
 
sudo pacman -R hardcode-fixer 

sudo vim /boot/grub/grub.cfg   =>  acpi_osi=! acpi_osi="Windows 2009" 
 https://zhuanlan.zhihu.com/p/102525227设置显卡切换（简言之就是驱动管理里使用430xx-bumblebee驱动）
开机加acpi_osi参数,开机再次修改grub.cfg
sudo vim /boot/grub/grub.cfg   =>  acpi_osi=! acpi_osi="Windows 2009" 

设置时区: sudo ln -sf /usr/share/zoneinfo/Asia/Shanghai/etc/localtime
安装openNTPD: sudo pacman -S openntpd
重启openNTPD: systemctl restart openntpd
设置开机启动: systemctl enable openntpd

sudo systemctl enable fstrim.timer  启用TRIM，TRIM会帮助清理SSD中的块，从而延长SSD的使用寿命。

git config --global user.name "shmily"
git config --global user.email 710552907@qq.com

su root
chmod 1777 /opt
mkdir /opt/apps
chmod 1777 -R /opt/apps/
usermod -a -G root shmily # add user shmily to root group
su shmily
sudo mkdir -p /opt/Projects/
sudo mkdir -p /opt/Projects/OpenSourceProjects
sudo mkdir -p /opt/Projects/MyProjects
sudo mkdir -p /opt/Projects/EnterpriseProjects
sudo chmod 1777 -R /opt/Projects/
sudo mkdir -p /opt/Env/
sudo mkdir -p /opt/Tools/


首先官网去下载安装包vscode官网https://code.visualstudio.com
code-stable-xxxxxxx.tar.gz
tar -zxvf code-stable-x64-1623937300.tar.gz -C /opt/apps/
sudo chmod +x /opt/apps/VSCode-linux-x64/code
ln -s /opt/apps/VSCode-linux-x64/code /usr/local/bin/code
touch /usr/share/applications/VSCode.desktop
chmod +x /usr/share/applications/VSCode.desktop
cp /opt/apps/VSCode-linux-x64/resources/app/resources/linux/code.png /usr/share/icons/
cat>/usr/share/applications/VSCode.desktop<<EOF
[Desktop Entry]
Name=Visual Studio Code
Comment=Multi-platform code editor for Linux
Exec=/opt/apps/VSCode-linux-x64/code
Icon=/usr/share/icons/code.png
Type=Application
StartupNotify=true
Categories=TextEditor;Development;Utility;
MimeType=text/plain;
EOF




输入法首选安装(https://www.zhihu.com/question/333951476/answer/1280162871):
sudo pacman -S fcitx5 fcitx5-chinese-addons fcitx5-qt fcitx5-gtk kcm-fcitx5 fcitx5-material-color
fcitx5为主体，fcitx5-chinese-addons中文输入方式支持fcitx5-qt：对 Qt5 程序的支持fcitx5-gtk：对 GTK 程序的支持fcitx5-qt4-gitAUR：对 Qt4 程序的支持kcm-fcitx5是KDE下的配置工具，不过在gnome下也可以正常使用。提示： 一般情况下，只安装 fcitx5-qt 和 fcitx5-gtk就行了配置工具fcitx5 的配置文件位于 ~/.local/share/fcitx5，尽管您可以使用文本编辑器编辑配置文件，但是使用 GUI 配置显然更方便：kcm-fcitx5：集成到 KCM 中的配置工具，专为 KDE 而生fcitx5-config-qt-git AUR：Qt 前端的 fcitx5 配置工具，与 kcm-fcitx5 相冲突注意： Fcitx5 开发人员明确表示不会考虑基于 GTK 的配置工具，对于非 KDE 界面，可以使用 fcitx5-config-qt-gitAUR。
该软件包与 kcm-fcitx5 相冲突，你需要手动卸载它环境变量sudo vim ~/.pam_environment
INPUT_METHOD  DEFAULT=fcitx5
GTK_IM_MODULE DEFAULT=fcitx5
QT_IM_MODULE  DEFAULT=fcitx5
XMODIFIERS    DEFAULT=\@im=fcitx5
注销 生效
主题：https://github.com/hosxy/Fcitx5-Material-Color 如何更新主题 换主题

输入法其次可选：
sunpinyin 和词库
sunpinyin
sunpinyin-data
fcitx-sunpinyin
ibus-sunpinyin
kcm-fcitx


//让 Windows 把硬件时间当作 UTC （避免双系统切换导致的时间错乱）
Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1

DOCK软件：sudo pacman -S  latte-dock   =>   latte-dock
 
软件商店AUR：wps-office-cn wps-office-mui-zh-cn wps-office-mime-cn ttf-wps-fonts   => 进入文档  点击右上角A切换语言
 
Deepin软件-去软件仓库 ：深度截图  深度录屏  深度备份还原工具

wechat和tim替代方案：
sudo pacman -S yay
yay --aururl https://aur.tuna.tsinghua.edu.cn --save
yay -S com.qq.weixin.spark
yay -S com.qq.tim.spark
 
软件仓库安装：Typora,GIMP，Shotcut ， laptop-mode-tools syncthing
软件仓库安装:forticlientsslvpn 4.4.2336,remmina,xmind,timeshift,yaourt
安装远程协助工具todesk Linux版

# 安装zsh oh-my-zsh：https://zhuanlan.zhihu.com/p/58073103

安装KVM ：https://www.jianshu.com/p/392ae8181dc3

安装
sudo pacman -S yaourt

安装docker
sudo pacman -S docker

安装常用工具
pacman -S net-tools dnsutils inetutils iproute2 neofetch
系统压测工具：sudo pacman -S stress

Python源
sudo pip config --global set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
sudo pip config --global set install.trusted-host pypi.tuna.tsinghua.edu.cn
pip install pyOpenSSL
pip install certifi
pip install pyspark 
pip install koalas

 
Mysql安装：https://blog.csdn.net/uniondong/article/details/98392738

clash GUI科学上网工具参考1：https://github.com/liyafe1997/ClashR-Pro  参考2：https://github.com/mantech2045/qclash/releases/tag/v0.0.6
GUI不可用则使用原生（推荐）：
Linux下安装&配置Clash以实现代理上网：https://zhuanlan.zhihu.com/p/369344633
在 Linux 上使用 Clash 作代理：http://einverne.github.io/post/2021/03/linux-use-clash.html

Sublime安装https://www.sublimetext.com/docs/3/linux_repositories.html#pacman
激活码：
----- BEGIN LICENSE -----
Member J2TeaM
Single User License
EA7E-1011316
D7DA350E 1B8B0760 972F8B60 F3E64036
B9B4E234 F356F38F 0AD1E3B7 0E9C5FAD
FA0A2ABE 25F65BD8 D51458E5 3923CE80
87428428 79079A01 AA69F319 A1AF29A4
A684C2DC 0B1583D4 19CBD290 217618CD
5653E0A0 BACE3948 BB2EE45E 422D2C87
DD9AF44B 99C49590 D2DBDEE1 75860FD2
8C8BB2AD B2ECE5A4 EFC08AF2 25A9B864
------ END LICENSE ------​




ls -l命令简写ll
sudo vim /etc/profile和~/.bashrc
alias ls='ls --color'
alias ll='ls -l --color'

vim /etc/sudoers
shmily ALL=(ALL)  ALL

清理内存 echo 1 > /proc/sys/vm/drop_caches

Ramfs: 创建一个最大大小为8G的RAMFS
mkdir -p /ramfs
mount -t ramfs none /ramfs -o maxsize=8388608
实际测试超过8G也会存，可能导致系统内存占满崩溃
所以挂载tmpfs--据说速度比ramfs还快，限制大小有用，能使用SWAP空间
mkdir -p /tmpfs
mount tmpfs /tmpfs -t tmpfs -o size=8192m


系统备份和还原两种方式：
使用tar压缩包打包备份系统 https://www.cnblogs.com/smlile-you-me/p/13601039.html
使用timeshift恢复系统

# 解决无法写和更新NTFS盘数据的问题：
创建 fix_ntfs_disk_rw.sh 内容：
#!/bin/bash

# Fix NTFS Disk which can not be writen on linux system.
# Usage: sh fix_ntfs_disk_rw.sh /run/media/shmily/Entertainment /Entertainment

DEFAULT_MOUNT_POINT=$1
TARGET_MOUNT_POINT=$2

if [ "$(whoami)" != "root" ];then
  echo User root is necessary.
  exit 1
fi

current_point=$(df -h | grep $DEFAULT_MOUNT_POINT | awk '{print $1}')
echo "Remounting point $current_point from $DEFAULT_MOUNT_POINT to $TARGET_MOUNT_POINT"

sudo ntfsfix $current_point
sudo umount $DEFAULT_MOUNT_POINT
sudo mkdir -p $TARGET_MOUNT_POINT
sudo chmod 1777 $TARGET_MOUNT_POINT
sudo mount -t ntfs -o rw $current_point $TARGET_MOUNT_POINT

echo "All Done"
将系统默认挂载点重新挂载为自定义的挂载点 用法sh fix_ntfs_disk_rw.sh /run/media/shmily/Entertainment /Entertainment



# 安装Jetbrains全家桶 创建快捷方式参考：
[Desktop Entry]
Name=GoLand
Comment=GoLand
Exec=/opt/apps/IDEs/GoLand/bin/goland.sh
Icon=/opt/apps/IDEs/GoLand/bin/goland.png
Terminal=false
Type=Application
Categories=Development

# 安装其他终端工具
Terminus：https://github.com/Eugeny/tabby
